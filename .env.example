# ── Database ──────────────────────────────────────────────────────────────────
# Local dev: relative path under apps/api/prisma/
# Docker: always file:/data/ormod-rcon.db (hardcoded in docker-compose.yml)
DATABASE_URL="file:./prisma/ormod-rcon.db"

# ── Auth ──────────────────────────────────────────────────────────────────────
# Generate a strong secret: openssl rand -hex 32
# Server refuses to start in production if this is left as the default value.
BETTER_AUTH_SECRET=change_this_to_something_very_random_and_long

# ── Network ───────────────────────────────────────────────────────────────────
# Three deployment modes:
#
#   1. LOCAL DEV (pnpm dev) ─────────────────────────────────────────────────
#      Two separate servers: Vite (WEB_HOST:WEB_PORT) + Fastify (API_HOST:API_PORT)
#      Vite proxies /api/* to Fastify. Both localhost variants are auto-trusted.
#
API_HOST=localhost
API_PORT=3001
WEB_HOST=localhost
WEB_PORT=3000

#   2. DOCKER (basic, no reverse proxy) ────────────────────────────────────
#      Single container serves both API and React UI.
#      WEB_HOST / WEB_PORT control which host IP and port Docker exposes.
#      API_HOST and API_PORT are hardcoded in docker-compose.yml (0.0.0.0:3000).
#      Set PUBLIC_URL so BetterAuth and CORS know the real access URL.
#
#      Example (LAN/WAN access on port 3000):
#        WEB_HOST=0.0.0.0
#        WEB_PORT=3000
#        PUBLIC_URL=http://192.168.1.100:3000
#
# WEB_HOST=0.0.0.0
# WEB_PORT=3000
# PUBLIC_URL=http://your-server-ip:3000

#   3. DOCKER + REVERSE PROXY (HTTPS) ──────────────────────────────────────
#      Container not directly exposed; nginx/Caddy terminates TLS.
#      WEB_HOST / WEB_PORT still control Docker port mapping (LAN-only).
#      PUBLIC_URL must be the full HTTPS URL clients use.
#
#      Example:
#        WEB_HOST=127.0.0.1
#        WEB_PORT=3000
#        PUBLIC_URL=https://rcon.example.com
#
# WEB_HOST=127.0.0.1
# WEB_PORT=3000
# PUBLIC_URL=https://rcon.example.com

# Full public URL — single source of truth for auth callbacks and CORS.
# Leave empty for local dev (auto-derived from API_HOST:API_PORT / WEB_HOST:WEB_PORT).
PUBLIC_URL=

# ── Game server ────────────────────────────────────────────────────────────────
SERVER_NAME=MyOrmodServer
GAME_BINARY_NAME=ORMODDirective
GAME_PORT=27015
QUERY_PORT=27016
KCP_PORT=7777

# Host IP Docker binds the game ports to. 0.0.0.0 = all interfaces.
GAME_HOST=0.0.0.0

# Docker container name for the game server.
GAME_CONTAINER_NAME=ormod-game

# ── Paths ──────────────────────────────────────────────────────────────────────
# Host path to the game binary directory.
# Default: ./docker/game-binary (relative to docker-compose.yml)
#GAME_BINARY_PATH=../server

# Host path to save data / server config files.
# Default: a Docker-managed named volume. Set to a host path for direct access.
#SAVES_PATH=../configs

# Directory for pre-wipe backup archives.
BACKUP_PATH=./backups

# ── Docker control ─────────────────────────────────────────────────────────────
# Set to false to disable Docker socket operations (start/stop/logs/exec).
#DOCKER_CONTROL_ENABLED=true

# Unix socket path. Change if your Docker socket is in a non-standard location.
#DOCKER_SOCKET=/var/run/docker.sock

# TCP Docker API proxy (used with docker-compose.secure.yml instead of the socket).
#DOCKER_HOST=tcp://socket-proxy:2375
